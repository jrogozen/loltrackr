var app = angular.module("loltrackrApp", ['ngResource', 'ngRoute', 'ng-rails-csrf', 'ngSanitize']);

app.config(['$routeProvider', function($routeProvider){
  $routeProvider.when("/team-builder", {
    templateUrl: "<%= asset_path('angular/templates/team-builder.html') %>",
    controller: "TeamBuilderCntrl"
  })
  .when("/videos/new", {
    templateUrl: "<%= asset_path('angular/templates/videos-new.html') %>",
    controller: "NewVideoCntrl"
  })
  .when("/videos/:id", {
    templateUrl: "<%= asset_path('angular/templates/video.html') %>",
    controller: "ViewVideoCntrl"
  })
  .when("/videos", {
    templateUrl: "<%= asset_path('angular/templates/videos.html') %>",
    controller: "VideoCntrl"
  })
  .when("/team-builder/stats", {
    templateUrl: "<%= asset_path('angular/templates/team-builder-stats.html') %>",
    controller: "TeamStatsCntrl"
  })
  .when("/team-builder/:id", {
    templateUrl: "<%= asset_path('angular/templates/team.html') %>",
    controller: "TeamViewCntrl"
  })
  .when("/search", {
    templateUrl: "<%= asset_path('angular/templates/search.html') %>",
    controller: "VideoCntrl"
  })
  // .otherwise({
  //   redirectTo: "/team-builder"
  // })

}]);

app.config(function($sceDelegateProvider) {
  $sceDelegateProvider.resourceUrlWhitelist([
    'self',
    'https://www.youtube.com/**'
  ]);
});
